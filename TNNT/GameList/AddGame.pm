#!/usr/bin/env perl

#=============================================================================
# Role that adds 'add_game' modifier for automatic adding of games to
# TNNT::GameList
#=============================================================================


package TNNT::GameList::AddGame;

use Moo::Role;
with 'TNNT::GameList';

requires 'add_game';



#=============================================================================
#=== METHODS =================================================================
#=============================================================================

around 'add_game' => sub {
  my (
    $orig,
    $self,
    $game
  ) = splice(@_, 0, 3);

  my $gl = $self->games();
  push(@$gl, $game);

  return $orig->($self, $game, @_);
};



#=============================================================================

1;
